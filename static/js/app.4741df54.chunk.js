(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{155:function(e,t,n){e.exports=n.p+"static/media/Logo_Lug.cfa9fc81.png"},177:function(e,t,n){e.exports=n.p+"static/media/playlistSoiree.1e60d8ba.png"},242:function(e,t,n){"use strict";var a=n(10),o=n.n(a),r=n(69),i=n(0),l=n.n(i),c=n(206),s=n(352),u=n(24),m=n(145),d=Object(m.b)({name:"userData",initialState:{connected:!1,user:{token:"",email:"",id:"",pseudo:""},spotify_token:"",party:{id:"",code:"",name:""}},reducers:{userConnected:function(e,t){e.connected=!0},setSpotifyToken:function(e,t){e.spotify_token=t.payload},setCurrentPartyId:function(e,t){e.party.id=t.payload.idParty},setCurrentPartyCode:function(e,t){e.party.code=t.payload.codeParty},setCurrentPartyName:function(e,t){e.party.name=t.payload.nameParty},setUser:function(e,t){e.user.token=t.payload.token,e.user.email=t.payload.email,e.user.id=t.payload.id,e.user.pseudo=t.payload.pseudo}}}),g=d.actions,h=g.userConnected,f=g.setSpotifyToken,y=g.setUser,p=g.setCurrentPartyId,b=g.setCurrentPartyCode,E=g.setCurrentPartyName,w=d.reducer,x=Object(m.a)({reducer:{user:w}}),C=n(4),v=n.n(C),k=n(5),S=n(3),j=n(17),T=n(22),I=k.a.create({container:{flexDirection:"row",justifyContent:"space-around"},buttonContainer:{backgroundColor:"rgba(255,255,255,1)",width:"70%",height:50,justifyContent:"center",alignItems:"center",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10},textButton:{color:"#120841",fontSize:20,justifyContent:"center",alignItems:"center",fontFamily:"CarterOne_400Regular"}}),R=function(e){var t=e.content,n=e.action;return l.a.createElement(S.a,{style:I.container},l.a.createElement(T.a,{onPress:n,style:I.buttonContainer},l.a.createElement(j.a,{style:I.textButton},t)))},B=n(36),L=n(85),O=k.a.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},buttonContainer:{backgroundColor:"#120841",width:"70%",height:45,textAlign:"left",borderRadius:30,paddingLeft:25,color:"white",fontSize:16,shadowColor:"black",shadowOffset:{width:1,height:3},shadowOpacity:.9,shadowRadius:5,textAlignVertical:"bottom",justifyContent:"center",alignItems:"center",marginBottom:15,borderWidth:1.4,borderColor:"white"}}),P=function(e){var t=e.useStateFunction,n=e.UseStateValue,a=e.placeholder,r=Object(i.useState)(!1),c=o()(r,2),s=c[0],u=c[1];s&&O.customText;return l.a.createElement(L.a,null,l.a.createElement(S.a,{style:O.container},l.a.createElement(B.a,{onFocus:function(){return u(!0)},onBlur:function(){return u(!1)},style:O.buttonContainer,onChangeText:t,value:n,placeholder:a,placeholderTextColor:"#D0D0D0"})))},_=k.a.create({container:{flexDirection:"column",backgroundColor:"#120841",color:"white",justifyContent:"center",alignItems:"center",flex:1,flexDirection:"column",fontSize:25,padding:20},topTitle:{textAlign:"center",textAlignVertical:"center",fontWeight:"bold",fontSize:40,fontFamily:"Roboto_700Bold",marginBottom:20},userNameAll:{marginLeft:"15%",marginRight:"15%",minWidth:"60%",minHeight:"20%",marginBottom:5,marginTop:15,borderBottomColor:"white",borderBottomWidth:1},userNameTitle:{fontWeight:"bold",justifyContent:"flex-start",fontFamily:"Roboto_700Bold",marginBottom:5},userNamePerso:{paddingLeft:"10%",fontFamily:"Roboto_700Bold",fontSize:16},userNameModify:{fontSize:10,color:"#D3D3D3",fontWeight:"100",paddingLeft:"40%",fontFamily:"Roboto_300Light",marginTop:5}}),z=function(e){e.route,e.navigation;var t=Object(i.useState)(""),n=o()(t,2),a=n[0],r=n[1],c=Object(i.useState)(""),s=o()(c,2),u=s[0],m=s[1],d=Object(i.useState)(""),g=o()(d,2),h=g[0],f=g[1];return l.a.createElement(S.a,{style:_.container},l.a.createElement(S.a,{style:_.topTitle},"Reglages et informations"),l.a.createElement(S.a,{style:_.userNameAll},l.a.createElement(S.a,{style:_.userNameTitle},"Ton pseudo"),l.a.createElement(S.a,{style:_.userNamePerso},l.a.createElement(P,{useStateFunction:f,useStateValue:h,placeholder:"Bobobo bobo"})),l.a.createElement(S.a,{style:_.userNameModify},"Modifier ton pseudo")),l.a.createElement(S.a,{style:_.userNameAll},l.a.createElement(S.a,{style:_.userNameTitle},"Ton adresse email",l.a.createElement(P,{useStateFunction:r,useStateValue:a,placeholder:"cocoDu74@caramail.com"})),l.a.createElement(S.a,{style:_.userNamePerso}),l.a.createElement(S.a,{style:_.userNameModify},"Modifier ton mail")),l.a.createElement(S.a,{style:_.userNameAll},l.a.createElement(S.a,{style:_.userNameTitle},"Ton mot de passe "),l.a.createElement(S.a,{style:_.userNamePerso},l.a.createElement(P,{useStateFunction:m,useStateValue:u,placeholder:"*********"})),l.a.createElement(S.a,{style:_.userNameModify},"Modifier ton mdp ")),l.a.createElement(R,{content:"Valider",action:function(){!function(e,t,n,a,o,r,i){v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:console.log("--- getTrack() ---"),fetch("http://shangrila.pythonanywhere.com/settings",{method:"POST",body:{email:e,new_email:t,new_email_confirm:n,mdp:a,new_mdp:o,new_mdp_confirm:r,new_pseudo:i}}).then((function(e){return e.json()})).then((function(e){console.log("Server said: "+e)}));case 2:case"end":return l.stop()}}),null,null,null,Promise)}(a,u,h)}}))},A=n(20),D=k.a.create({header:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#120841",flex:1},settingButton:{color:"white",alignItems:"flex-end",fontSize:20},logoHeader:{width:60,height:60},butonage:{color:"white"}}),F=function(e){e.route,e.navigation;return l.a.createElement(S.a,{style:D.header},l.a.createElement(S.a,null,l.a.createElement(A.a,{source:n(155),resizeMode:"contain",style:D.logoHeader})))},N=k.a.create({container:{flexDirection:"column",backgroundColor:"#120841",color:"white",justifyContent:"center",alignItems:"center",flex:1,flexDirection:"column",fontSize:25,padding:20},profileTop:{textAlignVertical:"center",textAlign:"center",fontSize:25,fontWeight:"700",color:"white",height:"100",marginBottom:20,fontFamily:"Roboto_700Bold",flex:2,fontSize:50,minWidth:"80%"},topTitle:{textAlign:"center",textAlignVertical:"center",fontWeight:"700",fontSize:30,minWidth:"80%"},topTextImage:{alignContent:"center",padding:20,flexDirection:"column",flex:2},topDescription:{textAlign:"center",textAlignVertical:"center",color:"grey",fontSize:8,paddingTop:5},topName:{textAlign:"center",textAlignVertical:"center",color:"white",fontSize:18,paddingTop:5,fontWeight:"700",paddingBottom:5},playlistAll:{color:"white",textAlignVertical:"center",textAlign:"center",fontSize:15,fontFamily:"Roboto_300Light",flex:2,minWidth:"80%",minHeight:430,padding:20},onePlaylist:{flexDirection:"row",minWidth:200,minHeight:100,flex:1,backgroundColor:"#122841",borderRadius:10,borderWidth:1,borderColor:"#fff",marginBottom:20},imageInPlaylist:{borderTopLeftRadius:10,borderBottomLeftRadius:10,flex:2,padding:5,alignContent:"center",textAlignVertical:"center",textAlign:"center"},textInPlaylist:{flexDirection:"column",flex:6,borderTopRightRadius:10},textInPTitle:{fontWeight:"bold",fontSize:15,textAlign:"center"},textInPDate:{color:"grey",fontSize:9,textAlign:"right",paddingRight:20},textinPDescription:{fontWeight:"100",fontSize:10,textAlign:"center"},imagerie:{flexDirection:"row",justifyContent:"space-around",marginBottom:60},down:{textAlignVertical:"center",textAlign:"center",marginBottom:20},tinyLogo:{minWidth:150,minHeight:150,borderRadius:50,justifyContent:"center",alignItems:"center"},tinyLogoProfile:{minWidth:150,minHeight:150,borderRadius:100,overflow:"hidden",justifyContent:"center",alignItems:"center"}}),M=function(e){e.route;var t=e.navigation;return l.a.createElement(S.a,{style:N.container},l.a.createElement(S.a,{style:N.profileTop},l.a.createElement(S.a,{style:N.topTitle},"Profil de Karen"),l.a.createElement(S.a,{style:N.topTextImage},l.a.createElement(A.a,{source:n(283),resizeMode:"contain",style:N.tinyLogoProfile,imageStyle:N.image_imageStyle}),l.a.createElement(S.a,{style:N.topName},"Karen Wilson "),l.a.createElement(T.a,{onPress:function(){t.push("SettingPage")}},l.a.createElement(S.a,{style:N.topDescription},"Modifier mes infos")))),l.a.createElement(S.a,{style:N.playlistAll},l.a.createElement(S.a,{style:N.topName},"Playlists des soir\xe9es pr\xe9c\xe9dentes"),l.a.createElement(S.a,{style:N.onePlaylist},l.a.createElement(S.a,{style:N.imageInPlaylist},l.a.createElement(A.a,{source:n(177),resizeMode:"contain",style:N.tinyLogo,imageStyle:N.image_imageStyle})),l.a.createElement(S.a,{style:N.textInPlaylist},l.a.createElement(S.a,{style:N.textInPTitle},"Soir\xe9e chez Marc"),l.a.createElement(S.a,{style:N.textInPDate},"25 mars 2021"),l.a.createElement(S.a,{style:N.textInPDescription},"10 participants"))),l.a.createElement(S.a,{style:N.onePlaylist},l.a.createElement(S.a,{style:N.imageInPlaylist},l.a.createElement(A.a,{source:n(177),resizeMode:"contain",style:N.tinyLogo,imageStyle:N.image_imageStyle})),l.a.createElement(S.a,{style:N.textInPlaylist},l.a.createElement(S.a,{style:N.textInPTitle},"Soir\xe9e chez Jean"),l.a.createElement(S.a,{style:N.textInPDate},"10 fevrier 2021"),l.a.createElement(S.a,{style:N.textInPDescription},"6 participants")))),l.a.createElement(j.a,null,' "blabla"'))},V=n(60),W=(k.a.create({container:{flexDirection:"row"},buttonContainer:{backgroundColor:"#9C9C9C",width:125,height:125,justifyContent:"center",alignItems:"center",borderRadius:15}}),k.a.create({container:{flexDirection:"row"},buttonContainer:{backgroundColor:"#9C9C9C",width:125,height:125,justifyContent:"center",alignItems:"center",borderRadius:25,borderColor:"white"},image:{height:150,width:150,position:"absolute"}}),n(54)),U=(k.a.create({container:{flex:5,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},alignIt:{backgroundColor:"#fff",flex:3}}),k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40},ModifyProfile:{textAlign:"center",color:"white",fontFamily:"Roboto_300Light",paddingTop:1}})),J=function(e){var t=e.navigation;function a(e,t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("--- getTrack() ---"),n.abrupt("return",fetch("https://shangrila.pythonanywhere.com/loggedSpotify?spotify_token="+JSON.parse(e)+"&token="+t+"&db=True",{method:"GET"}).then((function(e){return e.status})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}var o=Object(u.c)((function(e){return e.user.user.token})),r=Object(u.c)((function(e){return e.user.spotify_token})),i=0;return l.a.createElement(S.a,{style:U.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:U.image},l.a.createElement(A.a,{source:n(155),resizeMode:"contain",style:U.imageLogo})),l.a.createElement(S.a,{style:U.Text1},l.a.createElement(j.a,{style:U.devenezLeader},"Devenez Leader pour g\xe9rer votre soir\xe9e")),l.a.createElement(S.a,{style:U.MainButton1},l.a.createElement(R,{content:"Cr\xe9er une salle",action:function(){var e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=i){n.next=7;break}return i=1,n.next=4,v.a.awrap(a(r,o));case 4:e=n.sent,console.log("resFromUserTopTrack",e),200==e&&t.push("CreateRoom");case 7:case"end":return n.stop()}}),null,null,null,Promise)}}))),l.a.createElement(S.a,{style:U.SecondaryButton1},l.a.createElement(R,{content:"Rejoindre une salle",action:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=i){e.next=6;break}return i=1,e.next=4,v.a.awrap(a(r,o));case 4:200==e.sent&&t.push("JoinRoomCode");case 6:case"end":return e.stop()}}),null,null,null,Promise)}})),l.a.createElement(T.a,{onPress:function(){t.push("UserProfile")}},l.a.createElement(S.a,{style:U.ModifyProfile},"Modifier le profil")))},H=n(32),G=(k.a.create({container:{flex:1,flexDirection:"column",backgroundColor:"#120841",padding:50,alignItems:"center",justifyContent:"center"}}),n(81)),Q=n(114);G.b();var q={authorizationEndpoint:"https://accounts.spotify.com/authorize",tokenEndpoint:"https://accounts.spotify.com/api/token"},K=k.a.create({container:{flex:1,flexDirection:"column",backgroundColor:"#120841",padding:50,alignItems:"center",justifyContent:"center"},spotLogo:{width:300,height:90},mediumLogo:{width:66,height:90},connectation:{alignItems:"center",fontSize:20,color:"white",fontWeight:"700",paddingBottom:10}}),X=function(e){e.navigation,Object(u.c)((function(e){return e.user.spotify_token}));var t=Object(u.b)(),a=Object(Q.c)({responseType:Q.a.Token,clientId:"67234dda13844207a07446c5f1672ca6",scopes:["user-read-recently-played","user-read-playback-position","user-read-email","playlist-modify-public","user-read-private","playlist-read-private","user-library-read","user-library-modify","user-top-read","playlist-read-collaborative","playlist-modify-private","ugc-image-upload","user-follow-read","user-follow-modify","user-read-playback-state","user-modify-playback-state","user-read-currently-playing"],usePKCE:!1,redirectUri:null==Object(Q.b)({native:"jukehome"})?Object(Q.b)({native:"com.jukehome"}):"https://theojeanningrosepitech.github.io/lug/"},q),r=o()(a,3),i=r[0],c=r[1],s=r[2];l.a.useEffect((function(){if("success"===(null==c?void 0:c.type)){console.log(c.url),console.log("request  "+i.url),console.log("request  "+i.codeChallenge),console.log("request  "+i.params);var e=c.params.access_token;console.log(e),t(f(JSON.stringify(e)))}}),[c]);var m=Object(u.c)((function(e){return e.user.user}));return null==c||"dismiss"==c.type?(console.log("user",m),l.a.createElement(S.a,{style:K.container},l.a.createElement(j.a,{style:K.connectation}," Connect via "),l.a.createElement(S.a,null,l.a.createElement(T.a,{onPress:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(s());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},l.a.createElement(A.a,{source:n(305),resizeMode:"contain",style:K.spotLogo,imageStyle:K.image_imageStyle}))))):(console.log("user",m),console.log("responsebbbbbb",c),l.a.createElement(S.a,{style:K.container},l.a.createElement(j.a,{style:K.connectation}," Connect via "),l.a.createElement(S.a,null,l.a.createElement(T.a,{onPress:t(h())},l.a.createElement(j.a,{style:K.connectation}," GO ")))))},Y=n(166),Z=k.a.create({container:{flex:1,backgroundColor:"#120841",padding:50,flexDirection:"column",justifyContent:"space-around",justifyContent:"center"},rejoindreLaSalle:{fontFamily:"CarterOne-Regular",color:"rgba(18,8,65,1)",textAlign:"center",fontSize:24,alignItems:"center"},input:{width:270,height:80,borderWidth:2,borderColor:"rgba(255,255,255,1)",borderRadius:25,color:"white",textAlign:"center"},bas:{flex:3},icon2:{color:"rgba(255,255,255,1)",fontSize:80,marginTop:7},icon:{color:"rgba(255,255,255,1)",fontSize:80},icon2Row:{height:87,flexDirection:"row",justifyContent:"space-around",textAlign:"center"},scanUnQrCode:{fontFamily:"Roboto_700Bold",color:"rgba(255,255,255,1)",height:30,width:270,textAlign:"center"},scanUnQrCode1:{fontFamily:"Roboto_700Bold",color:"rgba(255,255,255,1)",height:34,width:270,textAlign:"center"},ou2:{fontFamily:"Roboto_700Bold",color:"rgba(255,255,255,1)",height:29,width:270,textAlign:"center"}}),$=function(e){e.navigation;var t=Object(i.useState)(null),n=o()(t,2),a=n[0],r=n[1],c=Object(i.useState)(!1),s=o()(c,2),u=s[0],m=s[1];Object(i.useEffect)((function(){!function(){var e,t;v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(Y.a.requestPermissionsAsync());case 2:e=n.sent,t=e.status,r("granted"===t);case 5:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);return null===a?l.a.createElement(j.a,null,"Requesting for camera permission"):!1===a?l.a.createElement(j.a,null,"No access to camera"):l.a.createElement(S.a,{style:Z.container},l.a.createElement(Y.a,{onBarCodeScanned:u?void 0:function(e){var t=e.type,n=e.data;m(!0),alert("Bar code with type "+t+" and data "+n+" has been scanned!")},style:k.a.absoluteFillObject}),u&&l.a.createElement(H.a,{title:"Tap to Scan Again",onPress:function(){return m(!1)}}))},ee=k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40}}),te=function(e){var t=e.navigation,n=Object(i.useState)(""),a=o()(n,2),r=a[0],c=a[1];function s(e,t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(fetch("https://shangrila.pythonanywhere.com/joinParty?token="+e+"&code="+t).then((function(e){return e.json()})).then((function(e){return{idParty:e.party_id,nameParty:e.name,codeParty:t}})).catch((function(e){console.error(e)})));case 3:return n=a.sent,console.log("res ======!!======",n),a.abrupt("return",n);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case 12:case"end":return a.stop()}}),null,null,[[0,8]],Promise)}var m=Object(u.b)(),d=Object(u.c)((function(e){return e.user.user.token}));return l.a.createElement(S.a,{style:ee.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:ee.Text1},l.a.createElement(j.a,{style:ee.devenezLeader},"Rejoins la salle de ton pote !")),l.a.createElement(S.a,{style:ee.MainButton1},l.a.createElement(P,{useStateFunction:c,useStateValue:r,placeholder:"Le Code de la salle (6 caract\xe8res)"}))),l.a.createElement(S.a,{style:ee.SecondaryButton1},l.a.createElement(R,{content:"Se rendre dans la salle",action:function(){var e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("text",r),n.next=3,v.a.awrap(s(d,r));case 3:e=n.sent,console.log("response === ",e),null!=e.idParty&&(console.log("resss body === ",e.idParty),console.log("resss name === ",e.nameParty),m(p(e)),m(E(e)),m(b(e)),t.push("RoomGuest"));case 6:case"end":return n.stop()}}),null,null,null,Promise)}})))},ne=k.a.create({container:{flexDirection:"column",backgroundColor:"#120841",justifyContent:"space-between",flex:1},flexing:{flex:1},intitule:{marginTop:20},intitule2:{marginTop:10,marginBottom:60},tinyLogo:{width:120,height:120},head:{textAlignVertical:"center",textAlign:"center",fontSize:25,fontWeight:"bold",color:"white",fontFamily:"Roboto_700Bold"},head2:{color:"white",textAlignVertical:"center",textAlign:"center",fontSize:15,fontFamily:"Roboto_300Light"},imagerie:{flexDirection:"row",justifyContent:"space-around",marginBottom:60},down:{textAlignVertical:"center",textAlign:"center",marginBottom:20},mainButton:{marginBottom:40},someText:{padding:2,textAlignVertical:"center",textAlign:"center",justifyContent:"center",color:"white"},someInput:{justifyContent:"flex-end",height:40,alignContent:"center",padding:2}}),ae=function(e){var t=e.navigation,n=Object(i.useState)(""),a=o()(n,2),r=a[0],c=a[1],s=Object(u.c)((function(e){return e.user.user})),m=Object(u.b)();function d(e,t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(fetch("https://shangrila.pythonanywhere.com/code?token="+t+"&party_id="+e).then((function(e){return e.json()})).then((function(e){return console.log("res test fun === ",e),{codeParty:e.code}})).catch((function(e){console.error(e)})));case 3:return n=a.sent,console.log("res test fun === ",n),a.abrupt("return",n);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case 12:case"end":return a.stop()}}),null,null,[[0,8]],Promise)}function g(e,t,n){var a;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.awrap(fetch("https://shangrila.pythonanywhere.com/createParty?token="+n+"&name="+t).then((function(e){return e.json()})).then((function(e){return console.log("json ===== ===== ",e),{idParty:e.party_id,nameParty:e.name}})).catch((function(e){console.error(e)})));case 3:return a=e.sent,console.log("res ======!!======",a),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case 12:case"end":return e.stop()}}),null,null,[[0,8]],Promise)}return l.a.createElement(S.a,{style:ne.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:ne.intitule},l.a.createElement(j.a,{style:ne.head},"Devenir leader")),l.a.createElement(S.a,{style:ne.intitule2}),l.a.createElement(S.a,{style:ne.imagerie}),l.a.createElement(S.a,{style:ne.down},l.a.createElement(j.a,{style:ne.someText},"Donne un nom \xe0 ta salle")),l.a.createElement(S.a,null),l.a.createElement(P,{useStateValue:r,useStateFunction:c,placeholder:"Nom public de la salle"})),l.a.createElement(S.a,{style:ne.mainButton},l.a.createElement(R,{content:"Cr\xe9er la salle",action:function(){var e,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(g(s.id,r,s.token));case 2:if(void 0==(e=a.sent)||void 0==e.idParty){a.next=14;break}return a.next=6,v.a.awrap(d(e.idParty,s.token));case 6:n=a.sent,console.log(e),m(p(e)),m(E(e)),m(b(n)),t.push("QRCode"),a.next=15;break;case 14:console.log("Put pop up");case 15:case"end":return a.stop()}}),null,null,null,Promise)}})))},oe=k.a.create({placeholderimage:{width:100,height:100,margin:10},container:{backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between",alignItems:"center",flex:1},image:{flexDirection:"column",width:"80%"},imageline:{justifyContent:"space-between",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40,width:"100%"}}),re=function(e){var t=e.navigation,a=Object(i.useState)(!1),r=o()(a,2);r[0],r[1];return l.a.createElement(S.a,{style:oe.container},l.a.createElement(S.a,{style:oe.image},l.a.createElement(S.a,{style:oe.imageline},l.a.createElement(A.a,{source:n(306),resizeMode:"contain",style:oe.placeholderimage}),l.a.createElement(A.a,{source:n(307),resizeMode:"contain",style:oe.placeholderimage})),l.a.createElement(S.a,{style:oe.imageline},l.a.createElement(A.a,{source:n(308),resizeMode:"contain",style:oe.placeholderimage}),l.a.createElement(A.a,{source:n(309),resizeMode:"contain",style:oe.placeholderimage})),l.a.createElement(S.a,{style:oe.imageline},l.a.createElement(A.a,{source:n(310),resizeMode:"contain",style:oe.placeholderimage}),l.a.createElement(A.a,{source:n(311),resizeMode:"contain",style:oe.placeholderimage}))),l.a.createElement(S.a,{style:oe.SecondaryButton1},l.a.createElement(R,{content:"C'est mon mood",action:function(){return t.push("QRCode")}})))},ie=(n(341),k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenezLeader2:{fontFamily:"CarterOne_400Regular",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40}})),le=function(e){var t=e.navigation,n=Object(u.c)((function(e){return e.user.party.code}));return l.a.createElement(S.a,{style:ie.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:ie.image},l.a.createElement(j.a,{style:ie.devenezLeader},"Voici le code de ta salle, partage le \xe0 tes amis"),l.a.createElement(j.a,{style:ie.devenezLeader2},n)),l.a.createElement(S.a,{style:ie.Text1},l.a.createElement(j.a,{style:ie.devenezLeader},"Voici ton QR Code, partage le \xe0 tes amis")),l.a.createElement(S.a,{style:ie.MainButton1},l.a.createElement(R,{content:"Lancer l'analyse",action:function(){return t.push("AnalyseMood")}}))))},ce=n(18),se=n.n(ce),ue=n(50),me=n(61),de=n(48),ge=n(27),he=n(66),fe=n(67),ye=k.a.create({container:{flexDirection:"row"},buttonContainer:{width:40,height:40,justifyContent:"center",alignItems:"center"}}),pe=function(e){var t=e.children,n=e.action;if("function Svg"===String(t.type).slice(0,12)){var a=l.a.cloneElement(t,{color:"white",height:30,width:30});return l.a.createElement(S.a,{style:ye.container},l.a.createElement(T.a,{onPress:n,style:ye.buttonContainer},a))}if("function FontAwesomeIcon"===String(t.type).slice(0,24)){var o=l.a.cloneElement(t,{color:"white",size:28});return l.a.createElement(S.a,{style:ye.container},l.a.createElement(T.a,{onPress:n,style:ye.buttonContainer},o))}return l.a.createElement(T.a,{onPress:n,style:ye.buttonContainer})},be=function(e){var t=e.children,n=e.action;if("function Svg"===String(t.type).slice(0,12)){var a=l.a.cloneElement(t,{color:"white",height:15,width:15});return l.a.createElement(S.a,{style:Ee.container},l.a.createElement(T.a,{onPress:n,style:Ee.smallButtonContainer},a))}if("function FontAwesomeIcon"===String(t.type).slice(0,24)){var o=l.a.cloneElement(t,{color:"white",size:14});return l.a.createElement(S.a,{style:Ee.container},l.a.createElement(T.a,{onPress:n,style:Ee.smallButtonContainer},o))}return l.a.createElement(T.a,{onPress:n,style:Ee.smallButtonContainer})},Ee=k.a.create({container:{flexDirection:"row"},buttonContainer:{width:40,height:40,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"white",borderRadius:20},smallButtonContainer:{width:20,height:20,justifyContent:"center",alignItems:"center",borderRadius:10,backgroundColor:"orange"}}),we=function(e){var t=e.children;return l.a.createElement(j.a,{style:Ce.title,numberOfLines:1,ellipsizeMode:"tail"},t)},xe=function(e){var t=e.children;return l.a.createElement(j.a,{style:Ce.artist,numberOfLines:1,ellipsizeMode:"tail"},t)},Ce=k.a.create({title:{fontWeight:"bold",color:"white",fontSize:20},artist:{color:"white",fontSize:15}}),ve=k.a.create({container:{backgroundColor:"#120841",width:"100%",alignItems:"flex-end",justifyContent:"center",flexDirection:"row",padding:10,height:90,paddingBottom:35,marginTop:-65,marginBottom:-25,borderRadius:25},buttonContainer:{width:40,height:40,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"white",borderRadius:20,marginLeft:10,marginRight:10},centerPiece:{flex:1,justifyContent:"center",alignItems:"center"},title:{fontSize:15,fontWeight:"bold",color:"white"},artist:{color:"white",fontSize:14,marginBottom:5},progressBar:{height:2,width:"100%",backgroundColor:"white"},bar:{flexDirection:"row",flex:1,width:"100%",alignItems:"center",justifyContent:"center"},progressBar1:{height:4,width:"45%",backgroundColor:"white",borderRadius:2},progressBar2:{height:4,width:"25%",backgroundColor:"#fff8",borderRadius:2},ball:{height:10,width:10,borderRadius:5,backgroundColor:"white",margin:-4},times:{flexDirection:"row",alignItems:"space-between",justifyContent:"space-between",width:"70%"},titlesss:{flexDirection:"column",alignItems:"center",justifyContent:"center"},t1:{flex:1,justifyContent:"flex-end"},t2:{flex:1,alignItems:"flex-end",justifyContent:"flex-end"},time1:{fontSize:13,color:"#fff8"},time2:{fontSize:13,color:"#fff8"}}),ke=function(e){e.navigation;var t=e.title,n=e.artist;return l.a.createElement(S.a,{style:ve.container},l.a.createElement(S.a,{style:ve.centerPiece},l.a.createElement(S.a,{style:ve.times},l.a.createElement(S.a,{style:ve.t1},l.a.createElement(j.a,{style:ve.time1},"2:09")),l.a.createElement(S.a,{style:ve.titlesss},l.a.createElement(j.a,{style:ve.title},t),l.a.createElement(j.a,{style:ve.artist},n)),l.a.createElement(S.a,{style:ve.t2},l.a.createElement(j.a,{style:ve.time2},"2:43"))),l.a.createElement(S.a,{style:ve.bar},l.a.createElement(S.a,{style:ve.progressBar1}),l.a.createElement(S.a,{style:ve.progressBar2}))))},Se=function(e,t){console.log(e,t),fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{Authorization:"Bearer "+JSON.parse(e)},body:JSON.stringify({uris:["spotify:track:"+t]})}).catch((function(e){console.error(e)}))},je=function(e){return fetch("https://api.spotify.com/v1/me/player",{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(e)}}).then((function(e){return e.json()})).then((function(e){return e.is_playing})).catch((function(e){console.error(e)}))},Te={title:"Again",artist:"YUI",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02fdec3ee19da7cd9b1b02ca9c",id:"4OQq1bcP12GQQXJNupxqfR"},Ie=[{title:"Old Town Road",artist:"Lil Nas X",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02c0e7bf5cdd630f314f20586a",id:"0F7FA14euOIX8KcbEturGH"},{title:"Bad Guy",artist:"Billie Eilish",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e0250a3147b4edd7701a876c6ce",id:"2Fxmhks0bxGSBdJ92vM42m"},{title:"Billie Jean",artist:"Mickeal Jackson",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e024121faee8df82c526cbab2be",id:"5ChkMS8OtdzJeqyybCc9R5"},{title:"Four",artist:"Chill Bump",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02ebe87a32cbd59019ea78ebef",id:"4aR43dhmFwhcUikb5PyUKH"},{title:"Les lacs du connemara",artist:"Michel Sardou",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e028ce9b85d2c378387883c6cc0",id:"3vHswuqTNO0hIiW6am0tKB"},{title:"Les d\xe9mons de minuit",artist:"Images",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02a54a8acf1bf370b3e0da0376",id:"2ShTk16F2cHvhQtHGlxTR7"},{title:"L'aventurier",artist:"Indochine",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02f80fe67d0f4293be5b8f5251",id:"2UC5XnHA1Wn9FjQmbjNca9"}],Re=k.a.create({container:{backgroundColor:"#32154D",alignItems:"center"},code:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},backgroundImage:{width:ge.a.get("window").height,height:ge.a.get("window").height},content:{backgroundColor:"#rgba(228,66,0,0.3)",alignItems:"center",justifyContent:"flex-end",paddingBottom:70},roomName:{marginTop:15,flexDirection:"row",width:"100%"},roomTitleLeft:{flex:4,alignItems:"flex-end",justifyContent:"center"},alignUsers:{flexDirection:"row",alignItems:"center"},users:{color:"white",width:25,height:25},addUsers:{width:40,height:40,justifyContent:"center",alignItems:"center"},usersNb:{fontSize:15,color:"white",marginRight:5},roomTitleRight:{flex:4,alignItems:"flex-start",justifyContent:"center"},roomTitleCenter:{flex:10,alignItems:"center",justifyContent:"center"},currentSongImage:{width:200,height:200,marginTop:15},activeRow:{flexDirection:"row",margin:10},feeling:{flex:1,alignItems:"center",justifyContent:"center"},activeInfo:{width:300,flexDirection:"column",justifyContent:"center",alignItems:"center"},advancement:{width:"80%",height:2,backgroundColor:"white",margin:10},upNext:{width:"100%",backgroundColor:"#fff7",marginTop:10,padding:15,flex:1},list:{height:285},upNextClosed:{},closedFull:{flexDirection:"row",alignItems:"center"},upNextImageContainer:{marginLeft:20},upNextImage:{width:80,height:80},upNextInfoContainer:{flexDirection:"column",marginLeft:20,width:"45%"},like:{flex:1,justifyContent:"flex-end",alignItems:"center",marginRight:20,flexDirection:"row"},nbLikes:{fontSize:20,color:"white"},seeMore:{marginTop:-10},upNextSong:{flexDirection:"row",alignItems:"center",marginBottom:15},voteTitle:{alignItems:"center"},voteImages:{justifyContent:"space-around",flexDirection:"row",marginTop:15,marginBottom:5},voteTitles:{justifyContent:"space-around",flexDirection:"row",marginBottom:15},noVoteTitles:{marginBottom:15,alignItems:"center"},voteMusicTitle:{width:110,textAlign:"center"},voteImage:{width:80,height:80},noVoteImage:{width:80,height:80},moodChange:{marginTop:10},moodChangeRow:{flexDirection:"row"},moodChangeItem:{width:150,height:150,margin:10}}),Be=function(e){var t=e.navigation,n=Object(u.c)((function(e){return e.user.spotify_token})),a=Object(u.c)((function(e){return e.user.party.id})),r=Object(u.c)((function(e){return e.user.party.code})),c=Object(u.c)((function(e){return e.user.party.name})),s=Object(u.c)((function(e){return e.user.user.token})),m=Object(i.useState)(!1),d=o()(m,2),g=d[0],h=d[1],f=Object(i.useState)(Ie),y=o()(f,2),p=y[0],b=y[1],E=Object(i.useState)(Te),w=o()(E,2),x=w[0],C=w[1],v=Object(i.useState)([]),k=o()(v,2),I=k[0],R=k[1],B=Object(i.useState)(!0),L=o()(B,2),O=L[0],P=L[1];O&&(P(!1),fetch("https://shangrila.pythonanywhere.com/playlist?party_id="+a+"&token="+s+"&db=True",{}).then((function(e){return e.json()})).then((function(e){var t=[];console.log("test",e);for(var a=0;a<e.length;a++){var o=e[a];t.push({title:o.music_name,artist:o.author_name,liked:!1,nb_likes:o.nb_likes,photo:o.photo,id:o.id_music,type:o.type})}console.log(t),t.length>0?(t.sort((function(e,t){return e.title-t.title})),t.sort((function(e,t){return e.type-t.type})),C(t[0]),Se(n,t[0].id),t.shift(),b(t)):Se(n,x.id)})).catch((function(e){console.error(e)}))),l.a.useLayoutEffect((function(){t.setOptions({headerLeft:function(){return l.a.createElement(H.a,{onPress:function(){return t.popToTop()},title:"Leave"})}})}),[t]);var _=function(e){var t=se()(p),n=t.findIndex((function(t){return t.id===e}));t[n].liked=!t[n].liked,t[n].nb_likes+=2*t[n].liked-1,t.sort((function(e,t){return e.nb_likes>t.nb_likes?-1:1})),b(t)};setTimeout((function(){fetch("https://shangrila.pythonanywhere.com/viewerMusic?party_id="+a+"&token="+s+"&indexEnd=10&db=True",{}).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.length;t++){var n=e[t];formated.push({title:n.music_name,artist:n.author_name,liked:!1,nb_likes:n.nb_likes,photo:n.photo,id:n.id_music,type:n.type})}formated.length>0&&(formated.sort((function(e,t){return e.title-t.title})),formated.sort((function(e,t){return e.type-t.type})))})).catch((function(e){console.error(e)}))}),5e3);var z=se()(p).filter((function(e){return!e.liked})).sort((function(){return Math.random()-.5}));return l.a.createElement(S.a,{style:{flex:1}},l.a.createElement(S.a,{style:Re.container},l.a.createElement(de.a,{style:Re.backgroundImage,blurRadius:25,source:{uri:x.photo}},l.a.createElement(ue.a,null,l.a.createElement(S.a,{style:Re.content},l.a.createElement(S.a,{style:Re.roomName},l.a.createElement(S.a,{style:Re.roomTitleLeft},l.a.createElement(S.a,{style:Re.alignUsers},l.a.createElement(j.a,{style:Re.usersNb},"1"),l.a.createElement(W.d,{style:Re.users}))),l.a.createElement(S.a,{style:Re.roomTitleCenter},l.a.createElement(we,null,c)),l.a.createElement(S.a,{style:Re.roomTitleRight},l.a.createElement(j.a,{style:Re.code},r))),l.a.createElement(T.a,{onPress:function(){t.push("ViewCurrentSong",{song:x,setSong:C,songs:p,setSongs:b,past:I,setPast:R})}},l.a.createElement(A.a,{style:Re.currentSongImage,source:{uri:x.photo}})),l.a.createElement(S.a,{style:Re.activeRow},l.a.createElement(S.a,{style:Re.feeling}),l.a.createElement(S.a,{style:Re.activeInfo},l.a.createElement(we,null,x.title),l.a.createElement(xe,null,x.artist)),l.a.createElement(S.a,{style:Re.feeling})),l.a.createElement(S.a,{style:Re.advancement}),l.a.createElement(S.a,{style:Re.upNext},g?l.a.createElement(S.a,null,l.a.createElement(me.a,{data:p,renderItem:function(e){var t=e.item;return l.a.createElement(S.a,{style:Re.upNextSong},l.a.createElement(S.a,{style:Re.upNextImageContainer},l.a.createElement(A.a,{style:Re.upNextImage,source:{uri:t.photo}})),l.a.createElement(S.a,{style:Re.upNextInfoContainer},l.a.createElement(we,null,t.title),l.a.createElement(xe,null,t.artist)),l.a.createElement(S.a,{style:Re.like},l.a.createElement(j.a,{style:Re.nbLikes},t.nb_likes),l.a.createElement(pe,{action:function(){return _(t.id)}},t.liked?l.a.createElement(he.a,{icon:fe.b}):l.a.createElement(W.a,null))))},keyExtractor:function(e){return e.id},style:Re.list}),l.a.createElement(S.a,{style:Re.voteTitle},l.a.createElement(we,null,"Add a like to one of these songs")),z.length>=1?l.a.createElement(S.a,{style:Re.voteImages},l.a.createElement(T.a,{onPress:function(){return _(z[0].id)}},l.a.createElement(A.a,{style:Re.voteImage,source:{uri:z[0].photo}})),z.length>=2?l.a.createElement(T.a,{onPress:function(){return _(z[1].id)}},l.a.createElement(A.a,{style:Re.voteImage,source:{uri:z[1].photo}})):l.a.createElement(S.a,{style:Re.noVoteImage}),z.length>=3?l.a.createElement(T.a,{onPress:function(){return _(z[2].id)}},l.a.createElement(A.a,{style:Re.voteImage,source:{uri:z[2].photo}})):l.a.createElement(S.a,{style:Re.noVoteImage})):l.a.createElement(S.a,null),z.length>=1?l.a.createElement(S.a,{style:Re.voteTitles},l.a.createElement(S.a,{style:Re.voteMusicTitle},l.a.createElement(xe,null,z[0].title)),z.length>=2?l.a.createElement(S.a,{style:Re.voteMusicTitle},l.a.createElement(xe,null,z[1].title)):l.a.createElement(S.a,{style:Re.voteMusicTitle}),z.length>=3?l.a.createElement(S.a,{style:Re.voteMusicTitle},l.a.createElement(xe,null,z[2].title)):l.a.createElement(S.a,{style:Re.voteMusicTitle})):l.a.createElement(S.a,{style:Re.noVoteTitles},l.a.createElement(xe,null,"No songs to show..."))):l.a.createElement(S.a,{style:Re.upNextClosed},p.length>0?l.a.createElement(S.a,{style:Re.closedFull},l.a.createElement(S.a,{style:Re.upNextImageContainer},l.a.createElement(A.a,{style:Re.upNextImage,source:{uri:p[0].photo}})),l.a.createElement(S.a,{style:Re.upNextInfoContainer},l.a.createElement(we,null,p[0].title),l.a.createElement(xe,null,p[0].artist)),l.a.createElement(S.a,{style:Re.like},l.a.createElement(j.a,{style:Re.nbLikes},p[0].nb_likes),l.a.createElement(pe,{action:function(){return _(p[0].id)}},p[0].liked?l.a.createElement(he.a,{icon:fe.b}):l.a.createElement(W.a,null)))):l.a.createElement(S.a,null))),g?l.a.createElement(S.a,{style:Re.seeMore},l.a.createElement(be,{action:function(){return h(!1)}},l.a.createElement(W.b,{style:{marginLeft:.5}}))):l.a.createElement(S.a,{style:Re.seeMore},l.a.createElement(be,{action:function(){return h(!0)}},l.a.createElement(W.c,{style:{marginLeft:.5}}))),l.a.createElement(S.a,{style:Re.moodChange},l.a.createElement(S.a,{style:Re.moodChangeRow},l.a.createElement(S.a,{style:Re.moodChangeItem}),l.a.createElement(S.a,{style:Re.moodChangeItem})),l.a.createElement(S.a,{style:Re.moodChangeRow},l.a.createElement(S.a,{style:Re.moodChangeItem}),l.a.createElement(S.a,{style:Re.moodChangeItem}))))))),l.a.createElement(ke,{title:x.title,artist:x.artist}))},Le={title:"Again",artist:"YUI",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02fdec3ee19da7cd9b1b02ca9c",id:"4OQq1bcP12GQQXJNupxqfR"},Oe=[{title:"Old Town Road",artist:"Lil Nas X",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02c0e7bf5cdd630f314f20586a",id:"0F7FA14euOIX8KcbEturGH"},{title:"Bad Guy",artist:"Billie Eilish",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e0250a3147b4edd7701a876c6ce",id:"2Fxmhks0bxGSBdJ92vM42m"},{title:"Billie Jean",artist:"Mickeal Jackson",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e024121faee8df82c526cbab2be",id:"5ChkMS8OtdzJeqyybCc9R5"},{title:"Four",artist:"Chill Bump",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02ebe87a32cbd59019ea78ebef",id:"4aR43dhmFwhcUikb5PyUKH"},{title:"Les lacs du connemara",artist:"Michel Sardou",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e028ce9b85d2c378387883c6cc0",id:"3vHswuqTNO0hIiW6am0tKB"},{title:"Les d\xe9mons de minuit",artist:"Images",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02a54a8acf1bf370b3e0da0376",id:"2ShTk16F2cHvhQtHGlxTR7"},{title:"L'aventurier",artist:"Indochine",liked:!1,photo:"https://i.scdn.co/image/ab67616d00001e02f80fe67d0f4293be5b8f5251",id:"2UC5XnHA1Wn9FjQmbjNca9"}],Pe=k.a.create({container:{backgroundColor:"#32154D",alignItems:"center"},backgroundImage:{width:ge.a.get("window").height,height:ge.a.get("window").height},content:{backgroundColor:"#rgba(228,66,0,0.3)",alignItems:"center",justifyContent:"flex-end",paddingBottom:70},code:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},roomName:{marginTop:15,flexDirection:"row",width:"100%"},roomTitleLeft:{flex:4,alignItems:"flex-end",justifyContent:"center"},alignUsers:{flexDirection:"row",alignItems:"center"},users:{color:"white",width:25,height:25},addUsers:{width:40,height:40,justifyContent:"center",alignItems:"center"},usersNb:{fontSize:15,color:"white",marginRight:5},roomTitleRight:{flex:4,alignItems:"flex-start",justifyContent:"center"},roomTitleCenter:{flex:10,alignItems:"center",justifyContent:"center"},currentSongImage:{width:200,height:200,marginTop:15},activeRow:{flexDirection:"row",margin:10},feeling:{flex:1,alignItems:"center",justifyContent:"center"},activeInfo:{width:200,flexDirection:"column",justifyContent:"center",alignItems:"center"},advancement:{width:"80%",height:2,backgroundColor:"white",margin:10},upNext:{width:"100%",backgroundColor:"#fff7",marginTop:10,padding:15,flex:1},list:{height:285},upNextClosed:{},closedFull:{flexDirection:"row",alignItems:"center"},upNextImageContainer:{marginLeft:20},upNextImage:{width:80,height:80},upNextInfoContainer:{flexDirection:"column",marginLeft:20,width:"45%"},like:{flex:1,justifyContent:"flex-end",alignItems:"center",marginRight:20,flexDirection:"row"},nbLikes:{fontSize:20,color:"white"},seeMore:{marginTop:-10},upNextSong:{flexDirection:"row",alignItems:"center",marginBottom:15},voteTitle:{alignItems:"center"},voteImages:{justifyContent:"space-around",flexDirection:"row",marginTop:15,marginBottom:5},voteTitles:{justifyContent:"space-around",flexDirection:"row",marginBottom:15},noVoteTitles:{marginBottom:15,alignItems:"center"},voteMusicTitle:{width:110,textAlign:"center"},voteImage:{width:80,height:80},noVoteImage:{width:80,height:80},moodChange:{marginTop:10},moodChangeRow:{flexDirection:"row"},moodChangeItem:{width:150,height:150,margin:10}}),_e=function(e){var t=e.navigation,n=Object(u.c)((function(e){return e.user.spotify_token})),a=Object(u.c)((function(e){return e.user.party.id})),r=Object(u.c)((function(e){return e.user.party.code})),c=Object(u.c)((function(e){return e.user.party.name})),s=Object(u.c)((function(e){return e.user.user.token})),m=Object(i.useState)(!1),d=o()(m,2),g=d[0],h=d[1],f=Object(i.useState)(Oe),y=o()(f,2),p=y[0],b=y[1],E=Object(i.useState)(Le),w=o()(E,2),x=w[0],C=w[1],v=Object(i.useState)([]),k=o()(v,2),I=(k[0],k[1],Object(i.useState)(!0)),R=o()(I,2),B=R[0],L=R[1];console.log("RoomGuest"),B&&(L(!1),fetch("https://shangrila.pythonanywhere.com/playlist?party_id="+a+"&token="+s+"&db=True",{}).then((function(e){return e.json()})).then((function(e){for(var t=[],a=0;a<e.length;a++){var o=e[a];t.push({title:o.music_name,artist:o.author_name,liked:!1,nb_likes:o.nb_likes,photo:o.photo,id:o.id_music})}t.length>0?(t.sort((function(e,t){return e.title-t.title})),t.sort((function(e,t){return e.type-t.type})),C(t[0]),Se(n,t[0].id),t.shift(),b(t)):Se(n,x.id)})).catch((function(e){console.error(e)}))),B&&(L(!1),Se(n,x.id)),l.a.useLayoutEffect((function(){t.setOptions({headerLeft:function(){return l.a.createElement(H.a,{onPress:function(){return t.popToTop()},title:"Leave"})}})}),[t]);var O=function(e){var t=se()(p),n=t.findIndex((function(t){return t.id===e}));t[n].liked=!t[n].liked,t[n].nb_likes+=2*t[n].liked-1,t.sort((function(e,t){return e.nb_likes>t.nb_likes?-1:1})),b(t)};setTimeout((function(){fetch("https://shangrila.pythonanywhere.com/viewerMusic?party_id="+a+"&token="+s+"&indexEnd=10&db=True",{}).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.length;t++){var n=e[t];formated.push({title:n.music_name,artist:n.author_name,liked:!1,nb_likes:n.nb_likes,photo:n.photo,id:n.id_music})}formated.length>0&&(formated.sort((function(e,t){return e.title-t.title})),formated.sort((function(e,t){return e.type-t.type})))})).catch((function(e){console.error(e)}))}),5e3);var P=se()(p).filter((function(e){return!e.liked})).sort((function(){return Math.random()-.5}));return l.a.createElement(S.a,{style:{flex:1}},l.a.createElement(S.a,{style:Pe.container},l.a.createElement(de.a,{style:Pe.backgroundImage,blurRadius:25,source:{uri:x.photo}},l.a.createElement(ue.a,null,l.a.createElement(S.a,{style:Pe.content},l.a.createElement(S.a,{style:Pe.roomName},l.a.createElement(S.a,{style:Pe.roomTitleLeft},l.a.createElement(S.a,{style:Pe.alignUsers},l.a.createElement(j.a,{style:Pe.usersNb},"1"),l.a.createElement(W.d,{style:Pe.users}))),l.a.createElement(S.a,{style:Pe.roomTitleCenter},l.a.createElement(we,null,c)),l.a.createElement(S.a,{style:Pe.roomTitleRight},l.a.createElement(j.a,{style:Pe.code},r))),l.a.createElement(T.a,{onPress:function(){}},l.a.createElement(A.a,{style:Pe.currentSongImage,source:{uri:x.photo}})),l.a.createElement(S.a,{style:Pe.activeRow},l.a.createElement(S.a,{style:Pe.activeInfo},l.a.createElement(we,null,x.title),l.a.createElement(xe,null,x.artist))),l.a.createElement(S.a,{style:Pe.advancement}),l.a.createElement(S.a,{style:Pe.upNext},g?l.a.createElement(S.a,null,l.a.createElement(me.a,{data:p,renderItem:function(e){var t=e.item;return l.a.createElement(S.a,{style:Pe.upNextSong},l.a.createElement(S.a,{style:Pe.upNextImageContainer},l.a.createElement(A.a,{style:Pe.upNextImage,source:{uri:t.photo}})),l.a.createElement(S.a,{style:Pe.upNextInfoContainer},l.a.createElement(we,null,t.title),l.a.createElement(xe,null,t.artist)),l.a.createElement(S.a,{style:Pe.like},l.a.createElement(j.a,{style:Pe.nbLikes},t.nb_likes),l.a.createElement(pe,{action:function(){return O(t.id)}},t.liked?l.a.createElement(he.a,{icon:fe.b}):l.a.createElement(W.a,null))))},keyExtractor:function(e){return e.id},style:Pe.list}),l.a.createElement(S.a,{style:Pe.voteTitle},l.a.createElement(we,null,"Add a like to one of these songs")),P.length>=1?l.a.createElement(S.a,{style:Pe.voteImages},l.a.createElement(T.a,{onPress:function(){return O(P[0].id)}},l.a.createElement(A.a,{style:Pe.voteImage,source:{uri:P[0].photo}})),P.length>=2?l.a.createElement(T.a,{onPress:function(){return O(P[1].id)}},l.a.createElement(A.a,{style:Pe.voteImage,source:{uri:P[1].photo}})):l.a.createElement(S.a,{style:Pe.noVoteImage}),P.length>=3?l.a.createElement(T.a,{onPress:function(){return O(P[2].id)}},l.a.createElement(A.a,{style:Pe.voteImage,source:{uri:P[2].photo}})):l.a.createElement(S.a,{style:Pe.noVoteImage})):l.a.createElement(S.a,null),P.length>=1?l.a.createElement(S.a,{style:Pe.voteTitles},l.a.createElement(S.a,{style:Pe.voteMusicTitle},l.a.createElement(xe,null,P[0].title)),P.length>=2?l.a.createElement(S.a,{style:Pe.voteMusicTitle},l.a.createElement(xe,null,P[1].title)):l.a.createElement(S.a,{style:Pe.voteMusicTitle}),P.length>=3?l.a.createElement(S.a,{style:Pe.voteMusicTitle},l.a.createElement(xe,null,P[2].title)):l.a.createElement(S.a,{style:Pe.voteMusicTitle})):l.a.createElement(S.a,{style:Pe.noVoteTitles},l.a.createElement(xe,null,"No songs to show..."))):l.a.createElement(S.a,{style:Pe.upNextClosed},p.length>0?l.a.createElement(S.a,{style:Pe.closedFull},l.a.createElement(S.a,{style:Pe.upNextImageContainer},l.a.createElement(A.a,{style:Pe.upNextImage,source:{uri:p[0].photo}})),l.a.createElement(S.a,{style:Pe.upNextInfoContainer},l.a.createElement(we,null,p[0].title),l.a.createElement(xe,null,p[0].artist)),l.a.createElement(S.a,{style:Pe.like},l.a.createElement(j.a,{style:Pe.nbLikes},p[0].nb_likes),l.a.createElement(pe,{action:function(){return O(p[0].id)}},p[0].liked?l.a.createElement(he.a,{icon:fe.b}):l.a.createElement(W.a,null)))):l.a.createElement(S.a,null))),g?l.a.createElement(S.a,{style:Pe.seeMore},l.a.createElement(be,{action:function(){return h(!1)}},l.a.createElement(W.b,{style:{marginLeft:.5}}))):l.a.createElement(S.a,{style:Pe.seeMore},l.a.createElement(be,{action:function(){return h(!0)}},l.a.createElement(W.c,{style:{marginLeft:.5}}))))))),l.a.createElement(ke,{title:x.title,artist:x.artist}))},ze=n(160),Ae=n(351),De=function(e,t,n,a,o,r,i,l,c){console.log(n[0]),function(e,t,n,a){var o=[].concat(se()(t),[e]);n(o),a(o)}(e,o,r,c),i(n[0]),t(n[0]),function(e,t,n){if(1==e.length)n([]),t([]);else{var a=se()(e);a.shift(),n(a),t(a)}}(n,a,l)},Fe=function(e,t,n,a,o,r,i,l,c){!function(e,t,n,a){var o=[e].concat(se()(t));n(o),a(o)}(e,n,a,l),i(o[o.length-1]),t(o[o.length-1]),function(e,t,n){if(1==e.length)n([]),t([]);else{var a=se()(e);a.pop(),n(a),t(a)}}(o,r,c)},Ne=k.a.create({container:{backgroundColor:"#120841",width:"100%",alignItems:"flex-start",justifyContent:"center",flexDirection:"column",padding:10,height:150,paddingBottom:35,marginTop:-65,marginBottom:-30,borderRadius:25},half:{flex:1,width:"100%",flexDirection:"row",marginBottom:10},half2:{flex:1,width:"100%",flexDirection:"row",justifyContent:"space-around"},buttonContainer:{width:40,height:40,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"white",borderRadius:20},buttonContainer2:{width:40,height:40,justifyContent:"center",alignItems:"center"},buttonContainer3:{width:40,height:40,backgroundColor:"white",justifyContent:"center",alignItems:"center",borderRadius:20,paddingLeft:5},buttonContainer4:{width:40,height:40,backgroundColor:"white",justifyContent:"center",alignItems:"center",borderRadius:20,paddingLeft:0},centerPiece:{flex:1,justifyContent:"center",alignItems:"center"},music:{fontSize:13,color:"#fff8",marginBottom:5},bar:{flexDirection:"row",flex:1,width:"100%",alignItems:"center",justifyContent:"center"},progressBar1:{height:4,width:"45%",backgroundColor:"white",borderRadius:2},progressBar2:{height:4,width:"25%",backgroundColor:"#fff8",borderRadius:2},ball:{height:10,width:10,borderRadius:5,backgroundColor:"white",margin:-4},times:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",width:"70%"},t1:{flex:1},t2:{flex:1,alignItems:"flex-end"},time1:{fontSize:13,color:"#fff8"},time2:{fontSize:13,color:"#fff8"}}),Me=function(e){e.navigation;var t=e.song,n=e.setSong,a=e.songs,c=e.setSongs,s=e.past,m=e.setPast,d=e.setImage,g=Object(u.c)((function(e){return e.user.spotify_token})),h=Object(i.useState)(!0),f=o()(h,2),y=f[0],p=f[1],b=Object(i.useState)(!0),E=o()(b,2),w=E[0],x=E[1];y&&(p(!1),x(je(g).then((function(e){x(e)}))));var C=Object(i.useState)(t),v=o()(C,2),k=v[0],T=v[1],I=Object(i.useState)(a),R=o()(I,2),B=R[0],L=R[1],O=Object(i.useState)(s),P=o()(O,2),_=P[0],z=P[1];return console.log(w),l.a.createElement(S.a,{style:Ne.container},l.a.createElement(S.a,{style:Ne.half},l.a.createElement(S.a,{style:Ne.centerPiece},l.a.createElement(j.a,{style:Ne.music},k.title," - ",k.artist),l.a.createElement(S.a,{style:Ne.bar},l.a.createElement(S.a,{style:Ne.progressBar1}),l.a.createElement(S.a,{style:Ne.ball}),l.a.createElement(S.a,{style:Ne.progressBar2})),l.a.createElement(S.a,{style:Ne.times},l.a.createElement(S.a,{style:Ne.t1},l.a.createElement(j.a,{style:Ne.time1},"2:09")),l.a.createElement(S.a,{style:Ne.t2},l.a.createElement(j.a,{style:Ne.time2},"2:43"))))),l.a.createElement(S.a,{style:Ne.half2},l.a.createElement(r.a,{onPress:function(){return V.a.alert("test")},style:Ne.buttonContainer},l.a.createElement(he.a,{icon:fe.a,size:30,color:"white"})),_.length>0?l.a.createElement(r.a,{onPress:function(){Se(g,_[_.length-1].id),Fe(k,T,B,L,_,z,n,c,m),d(_[_.length-1].photo)},style:Ne.buttonContainer2},l.a.createElement(Ae.a,{name:"step-backwrad",size:20,color:"#fff"})):l.a.createElement(S.a,{style:Ne.buttonContainer2},l.a.createElement(Ae.a,{name:"step-backwrad",size:20,color:"#fff8"})),w?l.a.createElement(r.a,{onPress:function(){je(g).then((function(e){console.log("now pause",e,w),function(e){fetch("https://api.spotify.com/v1/me/player/pause",{method:"PUT",headers:{Authorization:"Bearer "+JSON.parse(e)}}).catch((function(e){console.error(e)}))}(g),x(!w)}))},style:Ne.buttonContainer4},l.a.createElement(Ae.a,{name:"pause",size:20,color:"#120841"})):l.a.createElement(r.a,{onPress:function(){je(g).then((function(e){console.log("now play",e,w),function(e){fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{Authorization:"Bearer "+JSON.parse(e)}}).catch((function(e){console.error(e)}))}(g),x(!w)}))},style:Ne.buttonContainer3},l.a.createElement(Ae.a,{name:"play",size:20,color:"#120841"})),B.length>0?l.a.createElement(r.a,{onPress:function(){Se(g,B[0].id),De(k,T,B,L,_,z,n,c,m),d(B[0].photo)},style:Ne.buttonContainer2},l.a.createElement(Ae.a,{name:"step-forward",size:20,color:"#fff"})):l.a.createElement(S.a,{style:Ne.buttonContainer2},l.a.createElement(Ae.a,{name:"step-forward",size:20,color:"#fff8"})),l.a.createElement(r.a,{onPress:function(){return V.a.alert("test")},style:Ne.buttonContainer},l.a.createElement(ze.a,{name:"note",color:"white",size:30}))))},Ve=k.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"flex-end"},beg:{flex:1,backgroundColor:"#32154D",justifyContent:"flex-start",width:"100%",paddingBottom:70,alignItems:"center"},backgroundImage:{width:ge.a.get("window").height-165,height:ge.a.get("window").height-165,backgroundColor:"#E44200"}}),We=function(e){var t=e.route,n=(e.navigation,Object(u.c)((function(e){return e.user.spotify_token}))),a=t.params,r=a.song,c=a.setSong,s=a.songs,m=a.setSongs,d=a.past,g=a.setPast,h=Object(i.useState)(!0),f=o()(h,2),y=f[0],p=f[1],b=Object(i.useState)(r.photo),E=o()(b,2),w=E[0],x=E[1];return y&&(p(!1),function(e){return fetch("https://api.spotify.com/v1/me/player",{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(e)}}).then((function(e){return e.json()})).then((function(e){return console.log(e.item.name),e.item.album.images[0].url})).catch((function(e){console.error(e)}))}(n).then((function(e){x(e)}))),l.a.createElement(S.a,{style:Ve.container},l.a.createElement(S.a,{style:Ve.beg},l.a.createElement(A.a,{style:Ve.backgroundImage,source:{uri:w}})),l.a.createElement(Me,{song:r,setSong:c,songs:s,setSongs:m,past:d,setPast:g,setImage:x}))},Ue=k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40}}),Je=function(e){var t=e.navigation;return l.a.createElement(S.a,{style:Ue.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:Ue.image},l.a.createElement(A.a,{source:n(155),resizeMode:"contain",style:Ue.imageLogo})),l.a.createElement(S.a,{style:Ue.Text1},l.a.createElement(j.a,{style:Ue.devenezLeader},"Cr\xe9er toi un compte ou connecte toi \xe0 Lug")),l.a.createElement(S.a,{style:Ue.MainButton1},l.a.createElement(R,{content:"Cr\xe9er un compte",action:function(){return t.push("CreateAccount")}}))),l.a.createElement(S.a,{style:Ue.SecondaryButton1},l.a.createElement(R,{content:"Se connecter",action:function(){return t.push("ConnectAccount")}})))},He=k.a.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},buttonContainer:{backgroundColor:"#120841",width:"70%",height:45,textAlign:"left",borderRadius:30,paddingLeft:25,color:"white",fontSize:16,shadowColor:"black",shadowOffset:{width:1,height:3},shadowOpacity:.9,shadowRadius:5,textAlignVertical:"bottom",justifyContent:"center",alignItems:"center",marginBottom:15,borderWidth:1.4,borderColor:"white"}}),Ge=function(e){var t=e.useStateFunction,n=e.UseStateValue,a=e.placeholder,r=Object(i.useState)(!1),c=o()(r,2),s=c[0],u=c[1];s&&He.customText;return l.a.createElement(L.a,null,l.a.createElement(S.a,{style:He.container},l.a.createElement(B.a,{onFocus:function(){return u(!0)},onBlur:function(){return u(!1)},style:He.buttonContainer,onChangeText:t,value:n,placeholder:a,placeholderTextColor:"#D0D0D0",secureTextEntry:!0})))},Qe=k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40}}),qe=function(e){var t=e.navigation,n=Object(i.useState)(""),a=o()(n,2),r=a[0],c=a[1],s=Object(i.useState)(""),m=o()(s,2),d=m[0],g=m[1],h=Object(u.b)();function f(e,t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(fetch("https://shangrila.pythonanywhere.com/register?email="+e+"&mdp="+t).then((function(e){return 200==e.status?e.json():null})).then((function(e){return console.log("res test fun === ",e),null!=e?{token:e.token,email:e.user.email,id:e.user.user_id,pseudo:e.user.pseudo}:null})).catch((function(e){console.error(e)})));case 3:return n=a.sent,console.log("res test fun === ",n),a.abrupt("return",n);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case 12:case"end":return a.stop()}}),null,null,[[0,8]],Promise)}Object(u.c)((function(e){return e.user.user.token})),Object(u.c)((function(e){return e.user.spotify_token}));return l.a.createElement(S.a,{style:Qe.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:Qe.Text1},l.a.createElement(j.a,{style:Qe.devenezLeader},"Cr\xe9e toi un compte")),l.a.createElement(S.a,{style:Qe.MainButton1},l.a.createElement(P,{useStateFunction:c,useStateValue:r,placeholder:"Email"})),l.a.createElement(S.a,{style:Qe.MainButton1},l.a.createElement(Ge,{useStateFunction:g,useStateValue:d,placeholder:"Mot de passe"}))),l.a.createElement(S.a,{style:Qe.SecondaryButton1},l.a.createElement(R,{content:"Cr\xe9er le compte",action:function(){var e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("text",r),n.next=3,v.a.awrap(f(r,d));case 3:e=n.sent,console.log("response",e),null!=e&&null!=e.email&&null!=e.token?(console.log("resss body === ",e.email),h(y(e)),t.push("ConnectService")):console.log("Error");case 6:case"end":return n.stop()}}),null,null,null,Promise)}})))},Ke=k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:325,height:325},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40}}),Xe=function(e){var t=e.navigation,n=Object(i.useState)(""),a=o()(n,2),r=a[0],c=a[1],s=Object(i.useState)(""),m=o()(s,2),d=m[0],g=m[1];function h(e,t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(fetch("https://shangrila.pythonanywhere.com/login?email="+e+"&mdp="+t).then((function(e){return e.json()})).then((function(e){return{token:e.token,email:e.user.email,id:e.user.user_id,pseudo:e.user.pseudo}})).catch((function(e){console.error(e)})));case 3:return n=a.sent,console.log("res ======!!======",n),a.abrupt("return",n);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case 12:case"end":return a.stop()}}),null,null,[[0,8]],Promise)}var f=Object(u.b)();return l.a.createElement(S.a,{style:Ke.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:Ke.Text1},l.a.createElement(j.a,{style:Ke.devenezLeader},"Te voil\xe0 de retour parmi nous !")),l.a.createElement(S.a,{style:Ke.MainButton1},l.a.createElement(P,{useStateFunction:c,useStateValue:r,placeholder:"Email"})),l.a.createElement(S.a,{style:Ke.MainButton1},l.a.createElement(Ge,{useStateFunction:g,useStateValue:d,placeholder:"Mot de passe"}))),l.a.createElement(S.a,{style:Ke.SecondaryButton1},l.a.createElement(R,{content:"Se connecter",action:function(){var e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("text",r),n.next=3,v.a.awrap(h(r,d));case 3:e=n.sent,console.log("response === ",e),null!=e&&null!=e.email&&null!=e.token&&(console.log("resss body === ",e.email),f(y(e)),t.push("ConnectService"));case 6:case"end":return n.stop()}}),null,null,null,Promise)}})))},Ye=k.a.create({container:{flex:1,backgroundColor:"#120841",flexDirection:"column",justifyContent:"space-between"},image:{justifyContent:"space-around",flexDirection:"row"},imageLogo:{width:125,height:125},Text1:{padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},devenirLeader:{width:264,height:81,backgroundColor:"rgba(255,255,255,1)",borderRadius:20,shadowColor:"rgba(228,66,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:1,shadowRadius:10,fontFamily:"CarterOne_400Regular",color:"rgba(18,8,65,1)",textAlign:"center"},imageLogo:{width:325,height:325},Text1:{fontFamily:"Roboto_300Light",padding:20},devenezLeader:{fontFamily:"Roboto_700Bold",textAlign:"center",color:"white"},SecondaryButton1:{marginBottom:40}}),Ze=function(e){var t=e.navigation;return l.a.createElement(S.a,{style:Ye.container},l.a.createElement(S.a,null,l.a.createElement(S.a,{style:Ye.image},l.a.createElement(A.a,{source:n(316),resizeMode:"contain",style:Ye.imageLogo})),l.a.createElement(S.a,{style:Ye.Text1},l.a.createElement(j.a,{style:Ye.devenezLeader},"Analyse du son ambiant en cours... Ne pas boucher le micro")),l.a.createElement(S.a,{style:Ye.MainButton1},l.a.createElement(R,{content:"Go to room",action:function(){return t.push("Room")}}))))},$e=n(243),et=n(151),tt=n(244),nt=Object(s.a)(),at=function(){var e=Object(u.c)((function(e){return e.user.connected}));return l.a.createElement(c.a,null,!0===e?l.a.createElement(nt.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#120841"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}}},l.a.createElement(nt.Screen,{name:"Hub",component:J,options:{title:"What's up?",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"CreateRoom",component:ae,options:{title:"Create a Room",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"InitialMood",component:re,options:{title:"Choose the mood",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"QRCode",component:le,options:{title:"Here's your code!",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"AnalyseMood",component:Ze,options:{title:"Analysing the room temperature...",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"JoinRoom",component:$,options:{title:"Join a Room",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"JoinRoomCode",component:te,options:{title:"Join a Room",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"Room",component:Be,options:{title:"Room",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"RoomGuest",component:_e,options:{title:"RoomGuest",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"ViewCurrentSong",component:We,options:{title:"Current Song",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"UserProfile",component:M,options:{title:"Your Profile",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"SettingPage",component:z,options:{title:"Your Settings",headerTitle:function(e){return l.a.createElement(F,e)}}})):l.a.createElement(nt.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#120841"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}}},l.a.createElement(nt.Screen,{name:"FirstTime",component:Je,options:{title:"Welcome",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"CreateAccount",component:qe,options:{title:"Create an Account",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"ConnectAccount",component:Xe,options:{title:"Connect to an existing account",headerTitle:function(e){return l.a.createElement(F,e)}}}),l.a.createElement(nt.Screen,{name:"ConnectService",component:X,options:{title:"Link to Music Services",headerTitle:function(e){return l.a.createElement(F,e)}}})))};t.a=function(){var e=Object(et.c)({Roboto_700Bold:et.b,Roboto_300Light:et.a,CarterOne_400Regular:tt.a});return o()(e,1)[0]?l.a.createElement(u.a,{store:x},l.a.createElement(at,null)):l.a.createElement($e.a,null)}},256:function(e,t,n){e.exports=n(342)},283:function(e,t,n){e.exports=n.p+"static/media/basicWhiteGirl.5c4f651f.jpg"},305:function(e,t,n){e.exports=n.p+"static/media/spotifyBlanc.7324338a.png"},306:function(e,t,n){e.exports=n.p+"static/media/d\xe9chirure 2.48ebe111.png"},307:function(e,t,n){e.exports=n.p+"static/media/d\xe9chirure 3.61696c56.png"},308:function(e,t,n){e.exports=n.p+"static/media/d\xe9chirure 4.67b9ab18.png"},309:function(e,t,n){e.exports=n.p+"static/media/d\xe9chirure 5.5dc7e33b.png"},310:function(e,t,n){e.exports=n.p+"static/media/d\xe9chirure 8.038a63dc.png"},311:function(e,t,n){e.exports=n.p+"static/media/d\xe9chirure 1.b3e073e7.png"},316:function(e,t,n){e.exports=n.p+"static/media/headphone.ec02695c.png"}},[[256,1,2]]]);
//# sourceMappingURL=app.4741df54.chunk.js.map