{"ast":null,"code":"'use strict';var getSideChannel=require('side-channel');var utils=require(\"./utils\");var formats=require(\"./formats\");var has=Object.prototype.hasOwnProperty;var arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+'[]';},comma:'comma',indices:function indices(prefix,key){return prefix+'['+key+']';},repeat:function repeat(prefix){return prefix;}};var isArray=Array.isArray;var push=Array.prototype.push;var pushToArray=function pushToArray(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray]);};var toISO=Date.prototype.toISOString;var defaultFormat=formats['default'];var defaults={addQueryPrefix:false,allowDots:false,charset:'utf-8',charsetSentinel:false,delimiter:'&',encode:true,encoder:utils.encode,encodeValuesOnly:false,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:false,serializeDate:function serializeDate(date){return toISO.call(date);},skipNulls:false,strictNullHandling:false};var isNonNullishPrimitive=function isNonNullishPrimitive(v){return typeof v==='string'||typeof v==='number'||typeof v==='boolean'||typeof v==='symbol'||typeof v==='bigint';};var stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,sideChannel){var obj=object;if(sideChannel.has(object)){throw new RangeError('Cyclic object value');}if(typeof filter==='function'){obj=filter(prefix,obj);}else if(obj instanceof Date){obj=serializeDate(obj);}else if(generateArrayPrefix==='comma'&&isArray(obj)){obj=utils.maybeMap(obj,function(value){if(value instanceof Date){return serializeDate(value);}return value;});}if(obj===null){if(strictNullHandling){return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,'key',format):prefix;}obj='';}if(isNonNullishPrimitive(obj)||utils.isBuffer(obj)){if(encoder){var keyValue=encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,'key',format);return[formatter(keyValue)+'='+formatter(encoder(obj,defaults.encoder,charset,'value',format))];}return[formatter(prefix)+'='+formatter(String(obj))];}var values=[];if(typeof obj==='undefined'){return values;}var objKeys;if(generateArrayPrefix==='comma'&&isArray(obj)){objKeys=[{value:obj.length>0?obj.join(',')||null:undefined}];}else if(isArray(filter)){objKeys=filter;}else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys;}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];var value=typeof key==='object'&&key.value!==undefined?key.value:obj[key];if(skipNulls&&value===null){continue;}var keyPrefix=isArray(obj)?typeof generateArrayPrefix==='function'?generateArrayPrefix(prefix,key):prefix:prefix+(allowDots?'.'+key:'['+key+']');sideChannel.set(object,true);var valueSideChannel=getSideChannel();pushToArray(values,stringify(value,keyPrefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,valueSideChannel));}return values;};var normalizeStringifyOptions=function normalizeStringifyOptions(opts){if(!opts){return defaults;}if(opts.encoder!==null&&opts.encoder!==undefined&&typeof opts.encoder!=='function'){throw new TypeError('Encoder has to be a function.');}var charset=opts.charset||defaults.charset;if(typeof opts.charset!=='undefined'&&opts.charset!=='utf-8'&&opts.charset!=='iso-8859-1'){throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');}var format=formats['default'];if(typeof opts.format!=='undefined'){if(!has.call(formats.formatters,opts.format)){throw new TypeError('Unknown format option provided.');}format=opts.format;}var formatter=formats.formatters[format];var filter=defaults.filter;if(typeof opts.filter==='function'||isArray(opts.filter)){filter=opts.filter;}return{addQueryPrefix:typeof opts.addQueryPrefix==='boolean'?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:typeof opts.allowDots==='undefined'?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:typeof opts.charsetSentinel==='boolean'?opts.charsetSentinel:defaults.charsetSentinel,delimiter:typeof opts.delimiter==='undefined'?defaults.delimiter:opts.delimiter,encode:typeof opts.encode==='boolean'?opts.encode:defaults.encode,encoder:typeof opts.encoder==='function'?opts.encoder:defaults.encoder,encodeValuesOnly:typeof opts.encodeValuesOnly==='boolean'?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,format:format,formatter:formatter,serializeDate:typeof opts.serializeDate==='function'?opts.serializeDate:defaults.serializeDate,skipNulls:typeof opts.skipNulls==='boolean'?opts.skipNulls:defaults.skipNulls,sort:typeof opts.sort==='function'?opts.sort:null,strictNullHandling:typeof opts.strictNullHandling==='boolean'?opts.strictNullHandling:defaults.strictNullHandling};};module.exports=function(object,opts){var obj=object;var options=normalizeStringifyOptions(opts);var objKeys;var filter;if(typeof options.filter==='function'){filter=options.filter;obj=filter('',obj);}else if(isArray(options.filter)){filter=options.filter;objKeys=filter;}var keys=[];if(typeof obj!=='object'||obj===null){return'';}var arrayFormat;if(opts&&opts.arrayFormat in arrayPrefixGenerators){arrayFormat=opts.arrayFormat;}else if(opts&&'indices'in opts){arrayFormat=opts.indices?'indices':'repeat';}else{arrayFormat='indices';}var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];if(!objKeys){objKeys=Object.keys(obj);}if(options.sort){objKeys.sort(options.sort);}var sideChannel=getSideChannel();for(var i=0;i<objKeys.length;++i){var key=objKeys[i];if(options.skipNulls&&obj[key]===null){continue;}pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.format,options.formatter,options.encodeValuesOnly,options.charset,sideChannel));}var joined=keys.join(options.delimiter);var prefix=options.addQueryPrefix===true?'?':'';if(options.charsetSentinel){if(options.charset==='iso-8859-1'){prefix+='utf8=%26%2310003%3B&';}else{prefix+='utf8=%E2%9C%93&';}}return joined.length>0?prefix+joined:'';};","map":{"version":3,"sources":["/home/jeanningros/lug/node_modules/expo-linking/node_modules/qs/lib/stringify.js"],"names":["getSideChannel","require","utils","formats","has","Object","prototype","hasOwnProperty","arrayPrefixGenerators","brackets","prefix","comma","indices","key","repeat","isArray","Array","push","pushToArray","arr","valueOrArray","apply","toISO","Date","toISOString","defaultFormat","defaults","addQueryPrefix","allowDots","charset","charsetSentinel","delimiter","encode","encoder","encodeValuesOnly","format","formatter","formatters","serializeDate","date","call","skipNulls","strictNullHandling","isNonNullishPrimitive","v","stringify","object","generateArrayPrefix","filter","sort","sideChannel","obj","RangeError","maybeMap","value","isBuffer","keyValue","String","values","objKeys","length","join","undefined","keys","i","keyPrefix","set","valueSideChannel","normalizeStringifyOptions","opts","TypeError","module","exports","options","arrayFormat","joined"],"mappings":"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","sourcesContent":["'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    if (sideChannel.has(object)) {\n        throw new RangeError('Cyclic object value');\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = typeof key === 'object' && key.value !== undefined ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, true);\n        var valueSideChannel = getSideChannel();\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n"]},"metadata":{},"sourceType":"script"}